<app-header [userType]="'doctor'"></app-header>

<div class="dashboard">
    <div class="container">
        <div class="dashboard-header">
            <div>
                <h1>Olá, {{ doctorName }}</h1>
                <p class="welcome-text">Bem-vindo ao seu painel de controle</p>
            </div>
            <button class="btn btn-primary" (click)="navigateTo('/doctor/marketplace')">
                Ver Plantões Disponíveis
            </button>
        </div>

        <div class="summary-grid">
            <div class="summary-card" *ngFor="let item of financialSummary">
                <div class="summary-icon">{{ item.icon }}</div>
                <div class="summary-content">
                    <h3>{{ item.title }}</h3>
                    <div class="summary-value">{{ item.value }}</div>
                    <div class="summary-subtitle" *ngIf="item.subtitle">{{ item.subtitle }}</div>
                </div>
            </div>
        </div>

        <div class="content-grid">
            <div class="section-card">
                <h2>Próximos Plantões</h2>
                <div class="upcoming-shifts">
                    <div class="shift-item" *ngFor="let shift of upcomingShifts">
                        <div class="shift-date-badge">
                            <div class="date-day">{{ getDay(shift.date) }}</div>
                            <div class="date-month">{{ getMonth(shift.date) }}</div>
                        </div>
                        <div class="shift-info">
                            <h4>{{ shift.hospital }}</h4>
                            <p>{{ shift.time }} - {{ shift.specialty }}</p>
                        </div>
                        <div class="shift-value">
                            <span>R$ {{ shift.value }}</span>
                        </div>
                    </div>
                    <div class="empty-state" *ngIf="upcomingShifts.length === 0">
                        <p>Nenhum plantão agendado</p>
                    </div>
                </div>
                <button class="btn btn-secondary btn-full" (click)="navigateTo('/doctor/schedule')">
                    Ver Agenda Completa
                </button>
            </div>

            <div class="section-card">
                <h2>Atividade Recente</h2>
                <div class="activity-list">
                    <div class="activity-item" *ngFor="let activity of recentActivity">
                        <div class="activity-icon" [style.background]="activity.color">
                            {{ activity.icon }}
                        </div>
                        <div class="activity-content">
                            <h4>{{ activity.title }}</h4>
                            <p>{{ activity.description }}</p>
                            <span class="activity-time">{{ activity.time }}</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="section-card">
            <h2>Resumo Mensal</h2>
            <div class="monthly-stats">
                <div class="stat-item">
                    <div class="stat-label">Plantões Realizados</div>
                    <div class="stat-value">{{ monthlyStats.count }}</div>
                    <div class="stat-trend positive">+3 vs mês anterior</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">Horas Trabalhadas</div>
                    <div class="stat-value">{{ monthlyStats.hours }}h</div>
                    <div class="stat-trend positive">+24h vs mês anterior</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">Ganhos do Mês</div>
                    <div class="stat-value">R$ {{ monthlyStats.earnings }}</div>
                    <div class="stat-trend positive">+18% vs mês anterior</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">Média por Plantão</div>
                    <div class="stat-value">R$ {{ monthlyStats.average }}</div>
                    <div class="stat-trend">Estável</div>
                </div>
            </div>
        </div>
    </div>
</div>